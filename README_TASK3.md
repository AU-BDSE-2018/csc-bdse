# Авторы

Кравченко Дмитрий
Бугакова Надежда



# Misc

В общем, все очень плохо. Что-то написано, но тест только один,
ReplicatedKeyValueApiHttpClientTest, который повторяет тест
KeyValueApiHttpClientTest с WCL=RCL=timeout = 1. Больше не успел сделать.

Я очень долго не мог понять, как решать следующую проблему:

Мы запускаем постгрес прямо из самого Application. При этом,
координатор должен знать список всех нод. Но как нам при создании
первого координатора, указать ему адрес последнего, если он еще не 
запущен? Причем я пытался сделать так, чтобы указывалось все именно на
start-up'e. Я очень долго воевал с testcontainers и докером, пытался
запустить Application, передавая ему список нод в качестве `args`.

Проблема в том, что нам нужно сделать exposePort(8080). Но мы не можем
запустить изначально Application, т.к. еще нет всех нод, а testcontainers
ждет, пока на exposedPort начнут слушать. Если за 60 секунд не начали -- ошибка. 
Ок, давайте запустим `nc -l -p 8080`, а потом, когда мы так запустим все ноды и будем знать их IP, 
с помощью `docker exec` его убьем, а Application запустим с нашим списком. 
Такой подход, конечно, не работает, т.к. при убийстве `nc` умрет весь контейнер.

Еще я пытался переписывать стандартную логику testcontainers, чтобы
он не проверял порт 8080. Это срабатывает, чтобы запустить нормально
контейнер, но по какой-то причине я не могу потом сделать `docker  exec java .... Application ...`
. Говорит "java not found". Самое забавное, что я не могу так сделать именно посредством testcontainers, из терминала ручками могу.